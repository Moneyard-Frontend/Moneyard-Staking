<!DOCTYPE html>
<html lang="en">
<head>
    <title>Moneyard Staking</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: Arial;
            text-align: center;
            padding: 20px;
        }
        #connection-status {
            color: green;
            margin: 20px;
        }
    </style>
    <script src="https://cdn.ethers.io/lib/ethers-5.6.umd.min.js"></script>
</head>
<body>
    <h1>Moneyard Staking</h1>
    
    <!-- Connection Section -->
    <div id="auth-section">
        <button onclick="connectWallet()" style="padding: 15px; background: #009933; color: white; border: none; border-radius: 8px;">
            ðŸ”— Connect Wallet
        </button>
        <p id="connection-status">Not connected</p>
    </div>

    <script>
    // Error Handling First
    window.onerror = function(message) {
        alert("JS Error: " + message);
        return true;
    };

    async function connectWallet() {
        try {
            // Step 1: Detect Wallet
            if(!window.ethereum) throw new Error("Install MetaMask!");
            
            // Step 2: Connect
            await window.ethereum.request({ method: 'eth_requestAccounts' });
            const provider = new ethers.providers.Web3Provider(window.ethereum);
            const address = await provider.getSigner().getAddress();
            
            // Step 3: Update UI
            document.getElementById('connection-status').innerHTML = 
                `Connected: ${address.slice(0,6)}...${address.slice(-4)}`;
                
        } catch(error) {
            alert("Connection Failed: " + error.message);
        }
    }
    </script>
</body>
</html>
