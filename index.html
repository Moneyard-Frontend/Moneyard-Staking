<script>
let currentNetwork = 'BEP20';
let userAddress = '';

async function connectWallet() {
  try {
    // Detect MetaMask
    if(window.ethereum) {
      await window.ethereum.request({ method: 'eth_requestAccounts' });
      userAddress = (await new ethers.providers.Web3Provider(window.ethereum).getSigner().getAddress());
      currentNetwork = (await window.ethereum.chainId) === '0x38' ? 'BEP20' : 'OTHER';
    }
    // Detect TronLink
    else if(window.tronWeb) {
      userAddress = window.tronWeb.defaultAddress.base58;
      currentNetwork = 'TRC20';
    }
    else {
      throw new Error('No wallet detected!');
    }
    
    document.getElementById('wallet-status').textContent = `Connected: ${userAddress.slice(0,6)}...`;
    checkBalance();
    
  } catch(error) {
    alert(`Connection Error: ${error.message}`);
  }
}

// Update HTML
<div class="auth-section">
  <button onclick="connectWallet()">ðŸ”— Connect Wallet</button>
  <p id="wallet-status" style="margin-top: 10px; color: #666">Not connected</p>
    </div>
